<div class="comment-create border-radius">
    <h4>Escreva seu comentário:</h4>
    <form #commentForm="ngForm" (ngSubmit)="onSubmit()">
        <div>
            <label for="author_name">Autor</label>
            <input type="text" class="form-control" id="author_name" required minlength="4" maxlength="30" [(ngModel)]="model.author_name" name="author_name" #author_name="ngModel">
            <div *ngIf="author_name.errors && (author_name.dirty || author_name.touched)" class="alert alert-danger">
                <div [hidden]="!author_name.errors.required">
                    Autor é campo obrigatório
                </div>
                <div [hidden]="!author_name.errors.minlength">
                    Autor deve ter pelo menos 4 caracteres
                </div>
                <div [hidden]="!author_name.errors.maxlength">
                    Autor pode ter no máximo 30 caracteres
                </div>
            </div>
        </div>
        <div>
            <label for="author_email">Email</label>
            <input type="email" class="form-control" id="author_email" required pattern="[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-‌​9-]+)+.+[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]*" [(ngModel)]="model.author_email" name="author_email" #author_email="ngModel">
            <div *ngIf="author_email.errors && (author_email.dirty || author_email.touched)" class="alert alert-danger">
                <div [hidden]="!author_email.errors.required">
                    Email é campo obrigatório - Seu email não será revelado a outros usuários.
                </div>
                <div [hidden]="!author_email.errors.pattern">
                    Email inválido
                </div>
            </div>
        </div>
        <div>
            <label for="author_url">URL</label>
            <input type="url" class="form-control" id="author_url" pattern="https?://.+" [(ngModel)]="model.author_url" name="url" #author_url="ngModel">
            <div *ngIf="author_url.errors && (author_url.dirty || author_url.touched)" class="alert alert-danger">
                <div [hidden]="!author_url.errors.pattern">
                    URL inválido
                </div>
            </div>
        </div>
        <div>
            <label for="content">Seu comentário</label>
            <textarea cols="50" type="text" class="form-control" id="content" required [(ngModel)]="model.content" name="content" #content="ngModel"></textarea>
            <div *ngIf="content.errors && (content.dirty || content.touched)" class="alert alert-danger">
                <div [hidden]="!content.errors.required">
                    Não deixe o comentário em branco.
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-default" [disabled]="!commentForm.form.valid">Enviar</button>
    </form>
</div>
